/*! For license information please see component---src-templates-song-js-bac297c6a9a4c3dea8ac.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[208],{5900:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var s=a.apply(null,r);s&&e.push(s)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},5097:function(e,t,r){"use strict";var n=r(9756),a=r(7294),o=r(9499),s=r(5444),i=["children","state"];t.Z=function(e){var t=e.children,r=e.state,l=(0,n.Z)(e,i);return a.createElement(o.Location,null,(function(e){var n=e.location;return a.createElement(s.rU,Object.assign({},l,{state:Object.assign({previousUrl:n.href},r)}),t)}))}},1458:function(e,t,r){"use strict";function n(e,t){return e+" "+t+(1!==e?"s":"")}r.d(t,{_:function(){return n}})},5659:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7294),a=r(742),o=r(5805),s=r(5900),i=r.n(s),l=r(1458),c=r(5127),u=r(6501),d=r(5097);function h(e,t){return"soundcheck"===e.values.whichSet?-1:"soundcheck"===t.values.whichSet?1:"set 1"===e.values.whichSet?-1:"set 1"===t.values.whichSet?1:"set 2"===e.values.whichSet?-1:"set 2"===t.values.whichSet?1:"set 3"===e.values.whichSet?-1:"set 3"===t.values.whichSet?1:"encore"===e.values.whichSet?-1:"encore"===t.values.whichSet?1:"double encore"===e.values.whichSet?-1:"double encore"===t.values.whichSet?1:void 0}var f={soundcheck:"soundcheck",set1:"set 1",set2:"set 2",set3:"set 3",encore1:"encore",encore2:"double encore"};function g(e){var t=e.columns,r=e.data,o=e.previousUrl,s=void 0===o?"":o,l=(0,a.useTable)({columns:t,data:r},a.useSortBy),c=l.getTableProps,u=l.getTableBodyProps,h=l.headerGroups,f=l.rows,g=l.prepareRow;return n.createElement("table",Object.assign({},c(),{className:"sortable"}),n.createElement("thead",null,h.map((function(e){return n.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return n.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"sortable__cell-"+e.id+" "+(e.isSorted?e.isSortedDesc?"sorted-desc":"sorted-asc":"")}),e.render("Header"))})))}))),n.createElement("tbody",u(),f.map((function(e){var t;return g(e),n.createElement("tr",Object.assign({},e.getRowProps(),{className:i()((t={},t["stars-"+e.original.stars]=e.original.stars,t))}),e.cells.map((function(e){var t,r=i()(((t={blank:"[opener]"===e.value||"[closer]"===e.value})["sortable__cell-"+e.column.id]=!0,t));return n.createElement("td",Object.assign({},e.getCellProps(),{className:r}),function(e,t){var r,a=e.column,o=e.render,s=e.row;return void 0===t&&(t=""),"show"===a.id?r="/show/"+s.original.fullData.showData.id:"prior"===a.id&&s.original.fullData.prior.song_id?r="/song/"+s.original.fullData.prior.song_id:"after"===a.id&&s.original.fullData.after.song_id&&(r="/song/"+s.original.fullData.after.song_id),r?n.createElement(d.Z,{to:r,className:i()({highlight:t.endsWith(r)})},o("Cell")):o("Cell")}(e,s))})))}))))}function v(e){var t,r=e.data,a=r.songsCsv,s=r.allSeguesCsv.nodes,v=r.allSetsCsv.nodes,p=r.allShowsCsv.nodes,m=r.allSongperformancesCsv.nodes,w=r.allTeasesCsv.nodes,E=e.location;if(!a)return n.createElement("p",null,"Uh oh, no song data found...");var S=a.performances.split(":");if(!m.length)throw new Error("No data for allSongPerformances");if(!p.length)throw new Error("No data for allShows");if(!v.length)throw new Error("No data for allSets");if(!s.length)throw new Error("No data for allSegues");var _=m.filter((function(e){return S.includes(e.id)})).map((function(e){var t,r,n,i,l=e.id.toString(),c=(0,o.sEJ)((function(e){return e.setlist&&e.setlist.toString().split(":").includes(l)}))(v);if(!c)throw new Error("No setData",{song:a,performanceData:e,allSets:v});var u=(0,o.sEJ)((function(e){return[e.soundcheck,e.set1,e.set2,e.set3,e.encore1,e.encore2].includes(c.id)}))(p);if(!u)throw new Error("No showData",{song:a,performanceData:e,setData:c,allShows:p});var d,h,g,w=String(c.setlist).split(":"),E=w.indexOf(l);if(E>0){var S,_=w[E-1];(d=m.find((function(e){return e.id===_}))).segue=(null===(S=(0,o.sEJ)((0,o.OH4)("to_perf_id",l))(s))||void 0===S?void 0:S.type)||","}else d={song_name:"[opener]"};E<w.length-1?(h=m.find((function(e){return e.id===w[E+1]}))).segue=(null===(g=(0,o.sEJ)((0,o.OH4)("from_perf_id",l))(s))||void 0===g?void 0:g.type)||",":h={song_name:"[closer]"};var b=Object.entries(f).find((function(e){var t=e[0];e[1];return u[t]===c.id}))[1],D=!!e.variation&&"("+e.variation+")";return{show:u.date,prior:null===(t=d)||void 0===t?void 0:t.song_name,segue_prior:null===(r=d)||void 0===r?void 0:r.segue,title:a.abbrev||a.nicknames.split("; ")[0]||a.title,stars:e.stars,segue_after:null===(n=h)||void 0===n?void 0:n.segue,after:null===(i=h)||void 0===i?void 0:i.song_name,whichSet:b,fullData:{performanceData:e,showData:u,variation:D,whichSet:b,prior:d,after:h}}})),b=(0,n.useMemo)((function(){return _}),[]),D=(0,n.useMemo)((function(){return[{accessor:"show",Header:"show",sortType:function(e,t){return new Date(e.values.show).getTime()-new Date(t.values.show).getTime()}},{accessor:"prior",Header:"prior song"},{accessor:"segue_prior",Header:">"},{accessor:"title",disableSortBy:!0},{accessor:"segue_after",Header:">"},{accessor:"after",Header:"following song"},{accessor:"whichSet",Header:"where",sortType:h}]}),[]);return n.createElement(c.Z,{className:"songpage"},n.createElement(u.Z,{title:'"'+a.title+'" performed or teased by JRAD',description:"List of each time Joe Russo's Almost Dead has performed or teased the song \""+a.title+'" '+(a.author&&"traditional"!==a.author?"by "+a.author:"")}),n.createElement("h1",{className:"songpage__name"},a.title),n.createElement("div",{className:"songpage__info"},function(e){switch(void 0===e&&(e=null),e){case null:case"":return!1;case"traditional":return n.createElement("p",null,"(traditional)");default:return n.createElement("p",null,"by ",e)}}(a.author),a.suite&&n.createElement("p",null,"Part of the ",a.suite," suite")),Boolean(b.length)&&n.createElement("div",{className:"songpage__performances"},n.createElement("h2",null,"Performed at ",(0,l._)(b.length,"Show")),n.createElement(g,{data:b,columns:D,previousUrl:null==E||null===(t=E.state)||void 0===t?void 0:t.previousUrl})),Boolean(w.length)&&n.createElement("div",{className:"songpage__teases"},n.createElement("h2",null,"Teases"),n.createElement("ul",null,w.map((function(e){var t,r,a=(0,o.sEJ)((0,o.OH4)("id",e.performance_id))(m);if(null==a||!a.id)return!1;var s=(0,o.sEJ)((function(e){return e.setlist.toString().split(":").includes(a.id.toString())}))(v),l=(0,o.sEJ)((function(e){return[e.soundcheck,e.set1,e.set2,e.set3,e.encore1,e.encore2].includes(s.id)}))(p),c="/show/"+l.id;return n.createElement("li",{key:e.id,className:i()({highlight:null==E||null===(t=E.state)||void 0===t||null===(r=t.previousUrl)||void 0===r?void 0:r.endsWith(c)})},n.createElement(d.Z,{to:c},l.date," within ",e.within," ",a.variation&&"("+a.variation+")"))})))))}}}]);
//# sourceMappingURL=component---src-templates-song-js-bac297c6a9a4c3dea8ac.js.map