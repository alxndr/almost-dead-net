{"version":3,"sources":["webpack://almost-dead-net/./src/components/header.js","webpack://almost-dead-net/./src/components/layout.js","webpack://almost-dead-net/./src/pages/fan-stats.js"],"names":["Header","className","to","title","src","alt","defaultProps","children","id","href","UsernameForm","action","type","name","placeholder","size","LinkedUser","username","Title","FanStatsPage","location","URLSearchParams","search","get","useState","data","setData","useEffect","fetch","then","response","json","user","user_fields","length","shows","JSON","parse","error"],"mappings":"6KAGMA,EAAS,kBACb,8BACE,gBAAC,KAAD,CAAMC,UAAU,cAAcC,GAAG,IAAIC,MAAM,6BACzC,uBAAKC,IAAI,kCAAkCC,IAAI,8BAQrDL,EAAOM,aAAe,GAGtB,QCsBA,EA9Be,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,SAA8B,IAApBN,iBAAoB,MAAR,GAAQ,EAC7C,OACE,uBAAKA,UAAS,UAAYA,GAExB,gBAAC,EAAD,MAEA,4BACGM,GAGH,0BAAQC,GAAG,cAAcP,UAAU,UACjC,gBAAC,KAAD,CAAMA,UAAU,eAAeO,GAAG,cAAcN,GAAG,IAAIC,MAAM,uBAC3D,uBAAKC,IAAI,kCAAkCC,IAAI,qBAEjD,gBAAC,KAAD,CAAMJ,UAAU,qBAAqBC,GAAG,SAASC,MAAM,kBAAvD,SAGA,qBAAGM,KAAK,8BAA8BR,UAAU,mBAAmBE,MAAM,wBACvE,uBAAKC,IAAI,kCAAkCC,IAAI,+D,gHCpBnDK,EAAe,kBAAM,wBAAMC,OAAO,cACtC,yBAAOC,KAAK,OAAOC,KAAK,WAAWC,YAAY,2BAA2BC,KAAK,OAC/E,kDAGIC,EAAa,SAAC,GAAD,IAAEC,EAAF,EAAEA,SAAF,OAAgB,qBAAGR,KAAI,iCAAmCQ,EAAnC,YAAP,IAAgEA,IAE7FC,EAAQ,SAAC,GAAgB,IAAfD,EAAc,EAAdA,SACd,OAAIA,EACK,iDAAgB,gBAACD,EAAD,CAAYC,SAAUA,KAExC,aAGM,SAASE,EAAT,GAAmC,IAAZC,EAAW,EAAXA,SAE9BH,EADS,IAAII,gBAAgBD,EAASE,QACpBC,IAAI,YAE5B,GAAwBC,cAAS,IAA1BC,EAAP,KAAaC,EAAb,KAcA,OAbAC,gBAAU,WACJV,GACFW,MAAM,iCAAiCX,EAAlC,SACFY,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACJ,GACDA,EAAKO,MAAQP,EAAKO,KAAKC,aAAeR,EAAKO,KAAKC,YAAY,GAAGC,OACjER,EAAQ,CAACS,MAAOC,KAAKC,MAAMZ,EAAKO,KAAKC,YAAY,MAEjDP,EAAQ,CAACY,OAAO,SAGvB,CAACrB,IAEG,gBAAC,IAAD,CAAQhB,UAAU,gBACvB,gBAAC,IAAD,CAAKE,MAAM,mBACX,0BAAI,gBAACe,EAAD,CAAOD,SAAUA,KACpBQ,EAAKa,MACF,gCAAE,wDAAkC,gBAAC5B,EAAD,OACpCe,EAAKU,MACHV,EAAKU,MAAMD,OACT,yBAAG,gBAAClB,EAAD,CAAYC,SAAUA,IAAzB,aAAgDQ,EAAKU,MAAMD,OAA3D,WACA,gCAAE,4CAAsB,gBAACxB,EAAD,OAC1BO,EACE,uCACA,gBAACP,EAAD","file":"component---src-pages-fan-stats-js-096fdc1e16055b005a4e.js","sourcesContent":["import * as React from 'react'\nimport { Link } from 'gatsby'\n\nconst Header = () => (\n  <header>\n    <Link className=\"App__banner\" to=\"/\" title=\"Almost-Dead.net home page\">\n      <img src=\"https://i.imgur.com/q5cBEHG.png\" alt=\"Almost-Dead.net banner\" />\n    </Link>\n  </header>\n)\n\nHeader.propTypes = {\n}\n\nHeader.defaultProps = {\n}\n\nexport default Header\n","import * as React from \"react\"\nimport PropTypes from \"prop-types\"\nimport {Link} from \"gatsby\"\n\nimport Header from './header'\n\nimport './reset.css'\nimport './layout.css'\n\nconst Layout = ({children, className = ''}) => {\n  return (\n    <div className={`layout ${className}`}>\n\n      <Header />\n\n      <main>\n        {children}\n      </main>\n\n      <footer id=\"site-footer\" className=\"footer\">\n        <Link className=\"footer__logo\" id=\"logo-bottom\" to=\"/\" title=\"return to home page\">\n          <img src=\"https://i.imgur.com/q5cBEHG.png\" alt=\"Almost-Dead.net\" />\n        </Link>\n        <Link className=\"footer__link-about\" to=\"/about\" title=\"About the Site\">\n          About\n        </Link>\n        <a href=\"https://lot.almost-dead.net\" className=\"footer__logo-lot\" title=\"JRAD Forum — The Lot\">\n          <img src=\"https://i.imgur.com/Qi2NhJO.png\" alt=\"The Lot — a forum for fans of Joe Russo's Almost Dead\" />\n        </a>\n      </footer>\n\n    </div>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React, {useEffect, useState} from 'react'\n\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\n\nimport './fan-stats.css'\n\nconst UsernameForm = () => <form action=\"/fan-stats\">\n  <input type=\"text\" name=\"username\" placeholder=\"your username on The Lot\" size=\"30\" />\n  <button>generate stats</button>\n</form>\n\nconst LinkedUser = ({username}) => <a href={`https://lot.almost-dead.net/u/${username}/summary`}>@{username}</a>\n\nconst Title = ({username}) => {\n  if (username) {\n    return <>Fan Stats for <LinkedUser username={username} /></>\n  }\n  return 'Fan Stats'\n}\n\nexport default function FanStatsPage({location}) {\n  const params = new URLSearchParams(location.search)\n  const username = params.get('username')\n\n  const [data, setData] = useState({})\n  useEffect(() => {\n    if (username) {\n      fetch(`https://lot.almost-dead.net/u/${username}.json`)\n        .then((response) => response.json())\n        .then((data) => {\n          if (data.user && data.user.user_fields && data.user.user_fields[1].length)\n            setData({shows: JSON.parse(data.user.user_fields[1])})\n          else\n            setData({error: true})\n        })\n    }\n  }, [username])\n\n  return <Layout className=\"fanstatspage\">\n    <SEO title=\"JRAD Fan Stats\" />\n    <h1><Title username={username} /></h1>\n    {data.error\n      ? <><p>Uh oh, error fetching data.</p><UsernameForm/></>\n      : data.shows\n        ? data.shows.length\n          ? <p><LinkedUser username={username} /> has seen {data.shows.length} shows.</p>\n          : <><p>No shows found!</p><UsernameForm/></>\n        : username\n          ? <p>Loading...</p>\n          : <UsernameForm/>\n    }\n  </Layout>\n}\n"],"sourceRoot":""}