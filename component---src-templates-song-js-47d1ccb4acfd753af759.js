/*! For license information please see component---src-templates-song-js-47d1ccb4acfd753af759.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[823],{8220:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function c(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return c.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(c.default=c,e.exports=c):void 0===(r=function(){return c}.apply(t,[]))||(e.exports=r)}()},9268:function(e,t,r){"use strict";r.d(t,{c:function(){return d}});var n=r(2368);function c(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function o(e,t,r){for(var n=0,c=r.length;n<c;){if(e(t,r[n]))return!0;n+=1}return!1}var a=r(4671);var s="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},u=r(1960),i=r(4048);function l(e,t,r,n){var a=c(e);function s(e,t){return f(e,t,r.slice(),n.slice())}return!o((function(e,t){return!o(s,t,e)}),c(t),a)}function f(e,t,r,n){if(s(e,t))return!0;var c,o,d=(0,i.c)(e);if(d!==(0,i.c)(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(d){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(c=e.constructor,null==(o=String(c).match(/^function (\w*)/))?"":o[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!s(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!s(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var h=r.length-1;h>=0;){if(r[h]===e)return n[h]===t;h-=1}switch(d){case"Map":return e.size===t.size&&l(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&l(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=(0,u.c)(e);if(p.length!==(0,u.c)(t).length)return!1;var g=r.concat([e]),v=n.concat([t]);for(h=p.length-1;h>=0;){var m=p[h];if(!(0,a.c)(m,t)||!f(t[m],e[m],g,v))return!1;h-=1}return!0}var d=(0,n.c)((function(e,t){return f(e,t,[],[])}))},5188:function(e,t,r){"use strict";r.d(t,{c:function(){return i}});var n=r(2368),c=r(7136),o=r(100),a=r(5564),s=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=a.c.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=(0,o.c)(this.xf["@@transducer/step"](e,t))),e},e}();function u(e){return function(t){return new s(e,t)}}var i=(0,n.c)((0,c.c)(["find"],u,(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}})))},4740:function(e,t,r){"use strict";r.d(t,{c:function(){return c}});var n=r(8396);function c(e){return function t(r){return 0===arguments.length||(0,n.c)(r)?t:e.apply(this,arguments)}}},2368:function(e,t,r){"use strict";r.d(t,{c:function(){return o}});var n=r(4740),c=r(8396);function o(e){return function t(r,o){switch(arguments.length){case 0:return t;case 1:return(0,c.c)(r)?t:(0,n.c)((function(t){return e(r,t)}));default:return(0,c.c)(r)&&(0,c.c)(o)?t:(0,c.c)(r)?(0,n.c)((function(t){return e(t,o)})):(0,c.c)(o)?(0,n.c)((function(t){return e(r,t)})):e(r,o)}}}},3272:function(e,t,r){"use strict";r.d(t,{c:function(){return a}});var n=r(4740),c=r(2368),o=r(8396);function a(e){return function t(r,a,s){switch(arguments.length){case 0:return t;case 1:return(0,o.c)(r)?t:(0,c.c)((function(t,n){return e(r,t,n)}));case 2:return(0,o.c)(r)&&(0,o.c)(a)?t:(0,o.c)(r)?(0,c.c)((function(t,r){return e(t,a,r)})):(0,o.c)(a)?(0,c.c)((function(t,n){return e(r,t,n)})):(0,n.c)((function(t){return e(r,a,t)}));default:return(0,o.c)(r)&&(0,o.c)(a)&&(0,o.c)(s)?t:(0,o.c)(r)&&(0,o.c)(a)?(0,c.c)((function(t,r){return e(t,r,s)})):(0,o.c)(r)&&(0,o.c)(s)?(0,c.c)((function(t,r){return e(t,a,r)})):(0,o.c)(a)&&(0,o.c)(s)?(0,c.c)((function(t,n){return e(r,t,n)})):(0,o.c)(r)?(0,n.c)((function(t){return e(t,a,s)})):(0,o.c)(a)?(0,n.c)((function(t){return e(r,t,s)})):(0,o.c)(s)?(0,n.c)((function(t){return e(r,a,t)})):e(r,a,s)}}}},7136:function(e,t,r){"use strict";r.d(t,{c:function(){return c}});var n=r(920);function c(e,t,r){return function(){if(0===arguments.length)return r();var c=arguments[arguments.length-1];if(!(0,n.c)(c)){for(var o=0;o<e.length;){if("function"==typeof c[e[o]])return c[e[o]].apply(c,Array.prototype.slice.call(arguments,0,-1));o+=1}if(function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}(c))return t.apply(null,Array.prototype.slice.call(arguments,0,-1))(c)}return r.apply(this,arguments)}}},4671:function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(t,e)}r.d(t,{c:function(){return n}})},920:function(e,t){"use strict";t.c=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},8396:function(e,t,r){"use strict";function n(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}r.d(t,{c:function(){return n}})},2800:function(e,t,r){"use strict";function n(e){return"[object String]"===Object.prototype.toString.call(e)}r.d(t,{c:function(){return n}})},100:function(e,t,r){"use strict";function n(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}r.d(t,{c:function(){return n}})},5564:function(e,t){"use strict";t.c={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},1960:function(e,t,r){"use strict";r.d(t,{c:function(){return d}});var n=r(4740),c=r(4671),o=Object.prototype.toString,a=function(){return"[object Arguments]"===o.call(arguments)?function(e){return"[object Arguments]"===o.call(e)}:function(e){return(0,c.c)("callee",e)}}(),s=a,u=!{toString:null}.propertyIsEnumerable("toString"),i=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],l=function(){return arguments.propertyIsEnumerable("length")}(),f=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},d="function"!=typeof Object.keys||l?(0,n.c)((function(e){if(Object(e)!==e)return[];var t,r,n=[],o=l&&s(e);for(t in e)!(0,c.c)(t,e)||o&&"length"===t||(n[n.length]=t);if(u)for(r=i.length-1;r>=0;)t=i[r],(0,c.c)(t,e)&&!f(n,t)&&(n[n.length]=t),r-=1;return n})):(0,n.c)((function(e){return Object(e)!==e?[]:Object.keys(e)}))},4396:function(e,t,r){"use strict";r.d(t,{c:function(){return a}});var n=r(2368),c=Number.isInteger||function(e){return e<<0===e},o=r(2800);var a=(0,n.c)((function(e,t){var r,n,a;if(null!=t)return c(e)?(n=t,a=(r=e)<0?n.length+r:r,(0,o.c)(n)?n.charAt(a):n[a]):t[e]}))},5240:function(e,t,r){"use strict";var n=r(3272),c=r(4396),o=r(9268),a=(0,n.c)((function(e,t,r){return(0,o.c)(e,(0,c.c)(t,r))}));t.c=a},4048:function(e,t,r){"use strict";var n=(0,r(4740).c)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));t.c=n},4964:function(e,t,r){"use strict";var n=r(1504),c=r(2004),o=r(9756);t.c=e=>{let{children:t,state:r,...a}=e;return n.createElement(c.Location,null,(e=>{let{location:c}=e;return n.createElement(o.cH,Object.assign({},a,{state:{previousUrl:c.href,...r}}),t)}))}},5436:function(e,t,r){"use strict";function n(e,t){return e+" "+t+(1!==e?"s":"")}r.d(t,{u:function(){return n}})},4232:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(1504),c=r(8008),o=r(5188),a=r(5240),s=r(8220),u=r.n(s),i=r(5436),l=r(1264),f=r(6320),d=r(4964);function h(e,t){return"soundcheck"===e.values.whichSet?-1:"soundcheck"===t.values.whichSet?1:"set 1"===e.values.whichSet?-1:"set 1"===t.values.whichSet?1:"set 2"===e.values.whichSet?-1:"set 2"===t.values.whichSet?1:"set 3"===e.values.whichSet?-1:"set 3"===t.values.whichSet?1:"encore"===e.values.whichSet?-1:"encore"===t.values.whichSet?1:"double encore"===e.values.whichSet?-1:"double encore"===t.values.whichSet?1:void 0}const p={soundcheck:"soundcheck",set1:"set 1",set2:"set 2",set3:"set 3",encore1:"encore",encore2:"double encore"};function g(e){let{columns:t,data:r,previousUrl:o=""}=e;const{getTableProps:a,getTableBodyProps:s,headerGroups:i,rows:l,prepareRow:f}=(0,c.useTable)({columns:t,data:r},c.useSortBy);return n.createElement("table",Object.assign({},a(),{className:"sortable"}),n.createElement("thead",null,i.map((e=>n.createElement("tr",e.getHeaderGroupProps(),e.headers.map((e=>n.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"sortable__cell-"+e.id+" "+(e.isSorted?e.isSortedDesc?"sorted-desc":"sorted-asc":"")}),e.render("Header")))))))),n.createElement("tbody",s(),l.map((e=>(f(e),n.createElement("tr",Object.assign({},e.getRowProps(),{className:u()({["stars-"+e.original.stars]:e.original.stars})}),e.cells.map((e=>{const t=u()({blank:"[opener]"===e.value||"[closer]"===e.value,["sortable__cell-"+e.column.id]:!0});return n.createElement("td",Object.assign({},e.getCellProps(),{className:t}),function(e,t){let r,{column:c,render:o,row:a}=e;return void 0===t&&(t=""),"show"===c.id?r="/show/"+a.original.fullData.showData.id:"prior"===c.id&&a.original.fullData.prior.song_id?r="/song/"+a.original.fullData.prior.song_id:"after"===c.id&&a.original.fullData.after.song_id&&(r="/song/"+a.original.fullData.after.song_id),r?n.createElement(d.c,{to:r,className:u()({highlight:t.endsWith(r)})},o("Cell")):o("Cell")}(e,o))}))))))))}function v(e){var t;let{data:{songsCsv:r,allSeguesCsv:{nodes:c},allSetsCsv:{nodes:s},allShowsCsv:{nodes:v},allSongperformancesCsv:{nodes:m},allTeasesCsv:{nodes:y}},location:w}=e;if(!r)return n.createElement("p",null,"Uh oh, no song data found...");const S=r.performances.split(":");if(!m.length)throw new Error("No data for allSongPerformances");if(!v.length)throw new Error("No data for allShows");if(!s.length)throw new Error("No data for allSets");if(!c.length)throw new Error("No data for allSegues");const b=m.filter((e=>S.includes(e.id))).map((e=>{var t,n,u,i;const l=e.id.toString(),f=(0,o.c)((e=>e.setlist&&e.setlist.toString().split(":").includes(l)))(s);if(!f)throw new Error("No setData",{song:r,performanceData:e,allSets:s});const d=(0,o.c)((e=>[e.soundcheck,e.set1,e.set2,e.set3,e.encore1,e.encore2].includes(f.id)))(v);if(!d)throw new Error("No showData",{song:r,performanceData:e,setData:f,allShows:v});const h=String(f.setlist).split(":"),g=h.indexOf(l);let y,w;if(g>0){var S;const e=h[g-1];y=m.find((t=>t.id===e)),y.segue=(null===(S=(0,o.c)((0,a.c)(l,"to_perf_id"))(c))||void 0===S?void 0:S.type)||","}else y={song_name:"[opener]"};var b;g<h.length-1?(w=m.find((e=>e.id===h[g+1])),w.segue=(null===(b=(0,o.c)((0,a.c)(l,"from_perf_id"))(c))||void 0===b?void 0:b.type)||","):w={song_name:"[closer]"};const E=Object.entries(p).find((e=>{let[t,r]=e;return d[t]===f.id}))[1],_=!!e.variation&&"("+e.variation+")";return{show:d.date,prior:null===(t=y)||void 0===t?void 0:t.song_name,segue_prior:null===(n=y)||void 0===n?void 0:n.segue,title:r.nicknames.split("; ")[0]||r.title,stars:e.stars,segue_after:null===(u=w)||void 0===u?void 0:u.segue,after:null===(i=w)||void 0===i?void 0:i.song_name,whichSet:E,fullData:{performanceData:e,showData:d,variation:_,whichSet:E,prior:y,after:w}}})),E=(0,n.useMemo)((()=>b),[]),_=(0,n.useMemo)((()=>[{accessor:"show",Header:"show",sortType:(e,t)=>new Date(e.values.show).getTime()-new Date(t.values.show).getTime()},{accessor:"whichSet",Header:"where",sortType:h},{accessor:"prior",Header:"prior song"},{accessor:"segue_prior",Header:">"},{accessor:"title",disableSortBy:!0},{accessor:"segue_after",Header:">"},{accessor:"after",Header:"following song"}]),[]);return n.createElement(l.c,{className:"songpage"},n.createElement(f.c,{title:'"'+r.title+'" performed or teased by JRAD',description:"List of each time Joe Russo's Almost Dead has performed or teased the song \""+r.title+'" '+(r.author&&"traditional"!==r.author?"by "+r.author:"")}),n.createElement("h1",{className:"songpage__name"},r.title),n.createElement("div",{className:"songpage__info"},function(e){switch(void 0===e&&(e=null),e){case null:case"":return!1;case"traditional":return n.createElement("p",null,"(traditional)");default:return n.createElement("p",null,"by ",e)}}(r.author),r.suite&&n.createElement("p",null,"Part of the ",r.suite," suite")),Boolean(E.length)&&n.createElement("div",{className:"songpage__performances"},n.createElement("h2",null,"Performed at ",(0,i.u)(E.length,"Show")),n.createElement(g,{data:E,columns:_,previousUrl:null==w||null===(t=w.state)||void 0===t?void 0:t.previousUrl})),Boolean(y.length)&&n.createElement("div",{className:"songpage__teases"},n.createElement("h2",null,"Teases / Jams"),n.createElement("ul",null,y.map((e=>{var t,r;const c=(0,o.c)((0,a.c)(e.performance_id,"id"))(m);if(null==c||!c.id)return!1;const i=(0,o.c)((e=>e.setlist.toString().split(":").includes(c.id.toString())))(s),l=(0,o.c)((e=>[e.soundcheck,e.set1,e.set2,e.set3,e.encore1,e.encore2].includes(i.id)))(v),f="/show/"+l.id;return n.createElement("li",{key:e.id,className:u()({highlight:null==w||null===(t=w.state)||void 0===t||null===(r=t.previousUrl)||void 0===r?void 0:r.endsWith(f)})},n.createElement(d.c,{to:f},l.date," within ",e.within," ",c.variation&&"("+c.variation+")"))})))))}}}]);
//# sourceMappingURL=component---src-templates-song-js-47d1ccb4acfd753af759.js.map