/*! For license information please see component---src-templates-song-js-dcb200975fad34d89969.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[291],{9634:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,a(r)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},2530:function(e,t,r){"use strict";r.d(t,{A:function(){return d}});var n=r(2028);function o(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function a(e,t,r){for(var n=0,o=r.length;n<o;){if(e(t,r[n]))return!0;n+=1}return!1}var s=r(2659);var u="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},i=r(4826),c=r(9908);function l(e,t,r,n){var s=o(e);function u(e,t){return f(e,t,r.slice(),n.slice())}return!a((function(e,t){return!a(u,t,e)}),o(t),s)}function f(e,t,r,n){if(u(e,t))return!0;var o,a,d=(0,c.A)(e);if(d!==(0,c.A)(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(d){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(a=String(o).match(/^function (\w*)/))?"":a[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!u(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!u(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var h=r.length-1;h>=0;){if(r[h]===e)return n[h]===t;h-=1}switch(d){case"Map":return e.size===t.size&&l(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&l(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=(0,i.A)(e);if(p.length!==(0,i.A)(t).length)return!1;var g=r.concat([e]),A=n.concat([t]);for(h=p.length-1;h>=0;){var v=p[h];if(!(0,s.A)(v,t)||!f(t[v],e[v],g,A))return!1;h-=1}return!0}var d=(0,n.A)((function(e,t){return f(e,t,[],[])}))},3286:function(e,t,r){"use strict";r.d(t,{A:function(){return c}});var n=r(2028),o=r(9489),a=r(3413),s=r(8752),u=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=s.A.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=(0,a.A)(this.xf["@@transducer/step"](e,t))),e},e}();function i(e){return function(t){return new u(e,t)}}var c=(0,n.A)((0,o.A)(["find"],i,(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}})))},8725:function(e,t,r){"use strict";r.d(t,{A:function(){return o}});var n=r(6970);function o(e){return function t(r){return 0===arguments.length||(0,n.A)(r)?t:e.apply(this,arguments)}}},2028:function(e,t,r){"use strict";r.d(t,{A:function(){return a}});var n=r(8725),o=r(6970);function a(e){return function t(r,a){switch(arguments.length){case 0:return t;case 1:return(0,o.A)(r)?t:(0,n.A)((function(t){return e(r,t)}));default:return(0,o.A)(r)&&(0,o.A)(a)?t:(0,o.A)(r)?(0,n.A)((function(t){return e(t,a)})):(0,o.A)(a)?(0,n.A)((function(t){return e(r,t)})):e(r,a)}}}},131:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(8725),o=r(2028),a=r(6970);function s(e){return function t(r,s,u){switch(arguments.length){case 0:return t;case 1:return(0,a.A)(r)?t:(0,o.A)((function(t,n){return e(r,t,n)}));case 2:return(0,a.A)(r)&&(0,a.A)(s)?t:(0,a.A)(r)?(0,o.A)((function(t,r){return e(t,s,r)})):(0,a.A)(s)?(0,o.A)((function(t,n){return e(r,t,n)})):(0,n.A)((function(t){return e(r,s,t)}));default:return(0,a.A)(r)&&(0,a.A)(s)&&(0,a.A)(u)?t:(0,a.A)(r)&&(0,a.A)(s)?(0,o.A)((function(t,r){return e(t,r,u)})):(0,a.A)(r)&&(0,a.A)(u)?(0,o.A)((function(t,r){return e(t,s,r)})):(0,a.A)(s)&&(0,a.A)(u)?(0,o.A)((function(t,n){return e(r,t,n)})):(0,a.A)(r)?(0,n.A)((function(t){return e(t,s,u)})):(0,a.A)(s)?(0,n.A)((function(t){return e(r,t,u)})):(0,a.A)(u)?(0,n.A)((function(t){return e(r,s,t)})):e(r,s,u)}}}},9489:function(e,t,r){"use strict";r.d(t,{A:function(){return o}});var n=r(2290);function o(e,t,r){return function(){if(0===arguments.length)return r();var o=arguments[arguments.length-1];if(!(0,n.A)(o)){for(var a=0;a<e.length;){if("function"==typeof o[e[a]])return o[e[a]].apply(o,Array.prototype.slice.call(arguments,0,-1));a+=1}if(function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}(o))return t.apply(null,Array.prototype.slice.call(arguments,0,-1))(o)}return r.apply(this,arguments)}}},2659:function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(t,e)}r.d(t,{A:function(){return n}})},2290:function(e,t){"use strict";t.A=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},6970:function(e,t,r){"use strict";function n(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}r.d(t,{A:function(){return n}})},8854:function(e,t,r){"use strict";function n(e){return"[object String]"===Object.prototype.toString.call(e)}r.d(t,{A:function(){return n}})},3413:function(e,t,r){"use strict";function n(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}r.d(t,{A:function(){return n}})},8752:function(e,t){"use strict";t.A={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},4826:function(e,t,r){"use strict";r.d(t,{A:function(){return d}});var n=r(8725),o=r(2659),a=Object.prototype.toString,s=function(){return"[object Arguments]"===a.call(arguments)?function(e){return"[object Arguments]"===a.call(e)}:function(e){return(0,o.A)("callee",e)}}(),u=s,i=!{toString:null}.propertyIsEnumerable("toString"),c=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],l=function(){return arguments.propertyIsEnumerable("length")}(),f=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},d="function"!=typeof Object.keys||l?(0,n.A)((function(e){if(Object(e)!==e)return[];var t,r,n=[],a=l&&u(e);for(t in e)!(0,o.A)(t,e)||a&&"length"===t||(n[n.length]=t);if(i)for(r=c.length-1;r>=0;)t=c[r],(0,o.A)(t,e)&&!f(n,t)&&(n[n.length]=t),r-=1;return n})):(0,n.A)((function(e){return Object(e)!==e?[]:Object.keys(e)}))},5757:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(2028),o=Number.isInteger||function(e){return e<<0===e},a=r(8854);var s=(0,n.A)((function(e,t){var r,n,s;if(null!=t)return o(e)?(n=t,s=(r=e)<0?n.length+r:r,(0,a.A)(n)?n.charAt(s):n[s]):t[e]}))},6419:function(e,t,r){"use strict";var n=r(131),o=r(5757),a=r(2530),s=(0,n.A)((function(e,t,r){return(0,a.A)(e,(0,o.A)(t,r))}));t.A=s},9908:function(e,t,r){"use strict";var n=(0,r(8725).A)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));t.A=n},3529:function(e,t,r){"use strict";var n=r(6540),o=r(5702),a=r(1015);t.A=e=>{let{children:t,state:r,...s}=e;return n.createElement(o.Location,null,(e=>{let{location:o}=e;return n.createElement(a.N_,Object.assign({},s,{state:{previousUrl:o.href,...r}}),t)}))}},4286:function(e,t,r){"use strict";function n(e,t){return e+" "+t+(1!==e?"s":"")}r.d(t,{t:function(){return n}})},8078:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var n=r(6540),o=r(5164),a=r(3286),s=r(6419),u=r(9634),i=r.n(u),c=r(4286),l=r(5103),f=r(503),d=r(3529);function h(e,t){return"soundcheck"===e.values.whichSet?-1:"soundcheck"===t.values.whichSet?1:"set 1"===e.values.whichSet?-1:"set 1"===t.values.whichSet?1:"set 2"===e.values.whichSet?-1:"set 2"===t.values.whichSet?1:"set 3"===e.values.whichSet?-1:"set 3"===t.values.whichSet?1:"encore"===e.values.whichSet?-1:"encore"===t.values.whichSet?1:"double encore"===e.values.whichSet?-1:"double encore"===t.values.whichSet?1:void 0}const p={soundcheck:"soundcheck",set1:"set 1",set2:"set 2",set3:"set 3",encore1:"encore",encore2:"double encore"};function g(e){let{columns:t,data:r,previousUrl:a=""}=e;const{getTableProps:s,getTableBodyProps:u,headerGroups:c,rows:l,prepareRow:f}=(0,o.useTable)({columns:t,data:r},o.useSortBy);return n.createElement("table",Object.assign({},s(),{className:"sortable"}),n.createElement("thead",null,c.map((e=>n.createElement("tr",e.getHeaderGroupProps(),e.headers.map((e=>n.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"sortable__cell-"+e.id+" "+(e.isSorted?e.isSortedDesc?"sorted-desc":"sorted-asc":"")}),e.render("Header")))))))),n.createElement("tbody",u(),l.map((e=>(f(e),n.createElement("tr",Object.assign({},e.getRowProps(),{className:i()({["stars-"+e.original.stars]:e.original.stars})}),e.cells.map((e=>{const t=i()({blank:"[opener]"===e.value||"[closer]"===e.value,["sortable__cell-"+e.column.id]:!0});return n.createElement("td",Object.assign({},e.getCellProps(),{className:t}),function(e,t){let r,{column:o,render:a,row:s}=e;return void 0===t&&(t=""),"show"===o.id?r="/show/"+s.original.fullData.showData.id:"prior"===o.id&&s.original.fullData.prior.song_id?r="/song/"+s.original.fullData.prior.song_id:"after"===o.id&&s.original.fullData.after.song_id&&(r="/song/"+s.original.fullData.after.song_id),r?n.createElement(d.A,{to:r,className:i()({highlight:t.endsWith(r)})},a("Cell")):a("Cell")}(e,a))}))))))))}function A(e){var t;let{data:{songsCsv:r,allSeguesCsv:{nodes:o},allSetsCsv:{nodes:u},allShowsCsv:{nodes:A},allSongperformancesCsv:{nodes:v},allTeasesCsv:{nodes:m}},location:y}=e;if(!r)return n.createElement("p",null,"Uh oh, no song data found...");const w=r.performances.split(":");if(!v.length)throw new Error("No data for allSongPerformances");if(!A.length)throw new Error("No data for allShows");if(!u.length)throw new Error("No data for allSets");if(!o.length)throw new Error("No data for allSegues");const S=v.filter((e=>w.includes(e.id))).map((e=>{var t,n,i,c;const l=e.id.toString(),f=(0,a.A)((e=>e.setlist&&e.setlist.toString().split(":").includes(l)))(u);if(!f)throw new Error("No setData",{song:r,performanceData:e,allSets:u});const d=(0,a.A)((e=>[e.soundcheck,e.set1,e.set2,e.set3,e.encore1,e.encore2].includes(f.id)))(A);if(!d)throw new Error("No showData",{song:r,performanceData:e,setData:f,allShows:A});const h=String(f.setlist).split(":"),g=h.indexOf(l);let m,y;if(g>0){var w;const e=h[g-1];m=v.find((t=>t.id===e)),m.segue=(null===(w=(0,a.A)((0,s.A)(l,"to_perf_id"))(o))||void 0===w?void 0:w.type)||","}else m={song_name:"[opener]"};var S;g<h.length-1?(y=v.find((e=>e.id===h[g+1])),y.segue=(null===(S=(0,a.A)((0,s.A)(l,"from_perf_id"))(o))||void 0===S?void 0:S.type)||","):y={song_name:"[closer]"};const b=Object.entries(p).find((e=>{let[t,r]=e;return d[t]===f.id}))[1],E=!!e.variation&&"("+e.variation+")";return{show:d.date,prior:null===(t=m)||void 0===t?void 0:t.song_name,segue_prior:null===(n=m)||void 0===n?void 0:n.segue,title:r.nicknames.split("; ")[0]||r.title,stars:e.stars,segue_after:null===(i=y)||void 0===i?void 0:i.segue,after:null===(c=y)||void 0===c?void 0:c.song_name,whichSet:b,fullData:{performanceData:e,showData:d,variation:E,whichSet:b,prior:m,after:y}}})),b=(0,n.useMemo)((()=>S),[]),E=(0,n.useMemo)((()=>[{accessor:"show",Header:"show",sortType:(e,t)=>new Date(e.values.show).getTime()-new Date(t.values.show).getTime()},{accessor:"whichSet",Header:"where",sortType:h},{accessor:"prior",Header:"prior song"},{accessor:"segue_prior",Header:">"},{accessor:"title",disableSortBy:!0},{accessor:"segue_after",Header:">"},{accessor:"after",Header:"following song"}]),[]);return n.createElement(l.A,{className:"songpage"},n.createElement(f.A,{title:'"'+r.title+'" performed or teased by JRAD',description:"List of each time Joe Russo's Almost Dead has performed or teased the song \""+r.title+'" '+(r.author&&"traditional"!==r.author?"by "+r.author:"")}),n.createElement("h1",{className:"songpage__name"},r.title),n.createElement("div",{className:"songpage__info"},function(e){switch(void 0===e&&(e=null),e){case null:case"":return!1;case"traditional":return n.createElement("p",null,"(traditional)");default:return n.createElement("p",null,"by ",e)}}(r.author),r.suite&&n.createElement("p",null,"Part of the ",r.suite," suite")),Boolean(b.length)&&n.createElement("div",{className:"songpage__performances"},n.createElement("h2",null,"Performed at ",(0,c.t)(b.length,"Show")),n.createElement(g,{data:b,columns:E,previousUrl:null==y||null===(t=y.state)||void 0===t?void 0:t.previousUrl})),Boolean(m.length)&&n.createElement("div",{className:"songpage__teases"},n.createElement("h2",null,"Teases / Jams"),n.createElement("ul",null,m.map((e=>{var t,r;const o=(0,a.A)((0,s.A)(e.performance_id,"id"))(v);if(null==o||!o.id)return!1;const c=(0,a.A)((e=>e.setlist.toString().split(":").includes(o.id.toString())))(u),l=(0,a.A)((e=>[e.soundcheck,e.set1,e.set2,e.set3,e.encore1,e.encore2].includes(c.id)))(A),f="/show/"+l.id;return n.createElement("li",{key:e.id,className:i()({highlight:null==y||null===(t=y.state)||void 0===t||null===(r=t.previousUrl)||void 0===r?void 0:r.endsWith(f)})},n.createElement(d.A,{to:f},l.date," within ",e.within," ",o.variation&&"("+o.variation+")"))})))))}}}]);
//# sourceMappingURL=component---src-templates-song-js-dcb200975fad34d89969.js.map