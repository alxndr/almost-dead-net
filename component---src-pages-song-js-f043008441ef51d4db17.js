(self.webpackChunkalmost_dead_net=self.webpackChunkalmost_dead_net||[]).push([[914],{5581:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7294),a=n(5444),i="canary",s="dev",o="prod",l="unknown";function u(){switch(n.g.document&&n.g.document.location.hostname){case"almost-dead.net":return o;case"alxndr.github.io":return i;case"localhost":return s;default:return l}}var c=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),r.createElement("header",{style:{}},r.createElement(a.rU,{className:"App__banner",to:"/",title:"Almost-Dead.net home page"},r.createElement("img",{src:"https://i.imgur.com/q5cBEHG.png",alt:"Almost-Dead.net banner"})))};c.defaultProps={};var m=c,d=function(e){var t=e.children,n=e.className,i=void 0===n?"":n;return r.createElement("div",{className:"layout layout-"+u()+" "+i},r.createElement(m,null),r.createElement("main",null,t),r.createElement("footer",{id:"site-footer",className:"footer"},r.createElement(a.rU,{className:"footer__logo",id:"logo-bottom",to:"/",title:"return to home page"},r.createElement("img",{src:"https://i.imgur.com/tvtgYVY.png",alt:"Good Ol' Almost Dead"})),r.createElement(a.rU,{className:"footer__link-about",to:"/about",title:"About the Site"},"About the Site"),r.createElement("a",{href:"https://lot.almost-dead.net",className:"footer__logo-lot",title:"JRAD Forum — The Lot"},r.createElement("img",{src:"https://i.imgur.com/Qi2NhJO.png",alt:"The Lot — a forum for fans of Joe Russo's Almost Dead"}))))}},5689:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7294),a=n(5444),i=n(5871);function s(e,t,n){var r,a=typeof e;switch(a){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):a in n._items?e in n._items[a]||(t&&(n._items[a][e]=!0),!1):(t&&(n._items[a]={},n._items[a][e]=!0),!1);case"boolean":if(a in n._items){var s=e?1:0;return!!n._items[a][s]||(t&&(n._items[a][s]=!0),!1)}return t&&(n._items[a]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):a in n._items?!!(0,i.Z)(e,n._items[a])||(t&&n._items[a].push(e),!1):(t&&(n._items[a]=[e]),!1);case"undefined":return!!n._items[a]||(t&&(n._items[a]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(a=Object.prototype.toString.call(e))in n._items?!!(0,i.Z)(e,n._items[a])||(t&&n._items[a].push(e),!1):(t&&(n._items[a]=[e]),!1)}}var o=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!s(e,!0,this)},e.prototype.has=function(e){return s(e,!1,this)},e}(),l=(0,n(8980).Z)((function(e,t){for(var n,r,a=new o,i=[],s=0;s<t.length;)n=e(r=t[s]),a.add(n)&&i.push(r),s+=1;return i})),u=n(6973),c=n(2084),m=n(768),d=n(5581);var f={set1:"set 1",set2:"set 2",set3:"set 3",encore1:"encore",encore2:"double encore"};function h(e){var t=e.pageContext,n=t.song,i=t.shows,s=t.sets,o=t.songs,h=t.songPerformances,_=t.teases;if(!(n&&o&&h&&i&&_&&s))return r.createElement("p",null,"Loading...");if(!n)return r.createElement("p",null,"Uh oh, no song data found...");var p=n.id,g=(0,u.Z)((0,c.Z)("song_id",p))(h),v=g.map((function(e){var t=e.id.toString(),n=(0,m.Z)((function(e){return e.setlist&&e.setlist.toString().split(":").includes(t)}))(s);if(!n||!n.id)return!1;var r=(0,m.Z)((function(e){return[e.set1,e.set2,e.set3,e.encore1,e.encore2].includes(n.id)}))(i);if(!r||!r.id)return!1;var a=Object.entries(f).find((function(e){var t=e[0];e[1];return r[t]===n.id}))[1],o=!!e.variation&&"("+e.variation+")";return{performanceData:e,showData:r,variation:o,whichSet:a}})).filter((function(e){return e&&e.showData})).sort((function(e,t){var n=new Date(e.showData.date.split("/")),r=new Date(t.showData.date.split("/"));return n>r?-1:n<r?1:0})),E=l((function(e){return e.showData.id}),v),w=v.map((function(e){var t=e.performanceData,n=e.showData,i=e.variation,s=e.whichSet;return r.createElement("li",{key:t.id},r.createElement(a.rU,{to:"/show/"+n.id},n.date," ",i," in ",s))})),S=g.length>0&&r.createElement(r.Fragment,null,r.createElement("h2",null,"Performed at ",E.length+" Show"+(1===E.length?"":"s")),r.createElement("ul",null,w)),b=(0,u.Z)((0,c.Z)("song_id",p))(_),D=b.length>0&&r.createElement(r.Fragment,null,r.createElement("h2",null,"Teases"),r.createElement("ul",null,b.map((function(e){var t=(0,m.Z)((0,c.Z)("id",e.performance_id))(h),n=(0,m.Z)((function(e){return e.setlist.toString().split(":").includes(t.id.toString())}))(s),o=(0,m.Z)((function(e){return[e.set1,e.set2,e.set3,e.encore1,e.encore2].includes(n.id)}))(i);return r.createElement("li",{key:e.id},"within ",r.createElement(a.rU,{to:"/show/"+o.id},e.within," — ",o.date))}))));return r.createElement(d.Z,{className:"songpage"},r.createElement("h1",{className:"songpage__name"},n.title),r.createElement("div",{className:"songpage__info"},function(e){switch(void 0===e&&(e=null),e){case null:case"":return!1;case"traditional":return r.createElement("p",null,"(traditional)");default:return r.createElement("p",null,"by ",e)}}(n.author),n.suite&&r.createElement("p",null,"Part of the ",n.suite," suite")),r.createElement("div",{className:"songpage__performances"},S),r.createElement("div",{className:"songpage__teases"},D))}}}]);
//# sourceMappingURL=component---src-pages-song-js-f043008441ef51d4db17.js.map