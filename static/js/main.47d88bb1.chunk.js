(this["webpackJsonpalmost-dead-net"]=this["webpackJsonpalmost-dead-net"]||[]).push([[0],{14:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u}));var a="https://gist.githubusercontent.com/alxndr/5f64cf477d5202c004856772ad2222db/raw/012c70a946d7446eccb2e24375813b5bb4aa9ee9",c="".concat(a,"/segues.csv"),r="".concat(a,"/sets.csv"),l="".concat(a,"/shows.csv"),o="".concat(a,"/songperformances.csv"),u=("".concat(a,"/songs.csv"),"".concat(a,"/venues.csv"))},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(23),c=n(31),r=n.n(c),l={download:!0,dynamicTyping:!0,header:!0,worker:!0};function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.parse(e,Object(a.a)(Object(a.a)(Object(a.a)({},n),l),{},{complete:function(n){var a=n.data;if(n.errors.length)throw new Error("Error fetching",{csvUrl:e,response:n});return t(a)}}))}},25:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(16),c=n(0),r=n.n(c),l=n(36),o=n(35),u=n(15),s=n(14);function i(t){var n=Object(c.useState)(null),i=Object(a.a)(n,2),m=i[0],d=i[1],h=Object(c.useState)(null),f=Object(a.a)(h,2),E=f[0],p=f[1];return Object(c.useEffect)((function(){Object(u.a)(s.d,d),Object(u.a)(s.a,p)}),[]),m?E?m.length?E.length?(e.console.log({performances:m,segues:E}),r.a.createElement(r.a.Fragment,null,t.isEncore?r.a.createElement("p",null,"Encore ",t.which>1&&t.which):r.a.createElement("p",null,"Set ",t.which),r.a.createElement("ol",null,t.setlist.map((function(e){var t,n=(t=e,Object(l.a)(Object(o.a)("id",Number(t))))(m),a=Object(l.a)(Object(o.a)("from_perf_id",Number(n.id)))(E);return console.log({performanceData:n,segueData:a}),r.a.createElement("li",null,n.song_name," ",a&&a.type)}))))):r.a.createElement("p",null,"Uh oh, no segues found..."):r.a.createElement("p",null,"Uh oh, no sets found..."):r.a.createElement("p",null,"Loading segues..."):r.a.createElement("p",null,"Loading sets...")}}).call(this,n(22))},39:function(e,t,n){e.exports=n(54)},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(30),l=n.n(r),o=(n(44),n(57)),u=n(33),s=n(5),i="canary",m="dev",d="prod",h="unknown";function f(){if(!document||!document.location||!document.location.hostname)return h;switch(document.location.hostname){case"almost-dead.net":return d;case"alxndr.github.io":return i;case"localhost":return m;default:return h}}function E(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Uh oh! Error"))}var p=n(16),b=n(36),g=n(35),v=n(14),O=n(15),j=n(25);n(45);function w(e){var t=e.match.params,n=Object(a.useState)(null),r=Object(p.a)(n,2),l=r[0],o=r[1],u=Object(a.useState)(null),s=Object(p.a)(u,2),i=s[0],m=s[1],d=Object(a.useState)(null),h=Object(p.a)(d,2),f=h[0],E=h[1];if(Object(a.useEffect)((function(){Object(O.a)(v.c,o),Object(O.a)(v.b,m),Object(O.a)(v.e,E)}),[]),!l)return c.a.createElement("p",null,"Loading shows...");if(!f)return c.a.createElement("p",null,"Loading venues...");if(!i)return c.a.createElement("p",null,"Loading sets...");if(!l.length)return c.a.createElement("p",null,"Uh oh, no shows found...");if(!f.length)return c.a.createElement("p",null,"Uh oh, no venues found...");if(!i.length)return c.a.createElement("p",null,"Uh oh, no sets found...");var w=Object(b.a)(Object(g.a)("id",Number(t.id)))(l);if(!w)return c.a.createElement("p",null,"Uh oh, no show data found...");var N=w.date,y=w.venue_id,U=Object(b.a)(Object(g.a)("id",Number(y)))(f);if(!U)return c.a.createElement("p",null,"Uh oh, no venue data found...");var S=U.name,k=U.location,A=[1,2,3].reduce((function(e,t){if(w["set".concat(t)]){var n=w["set".concat(t)],a=Object(b.a)(Object(g.a)("id",Number(n)))(i);return e.concat([c.a.createElement(j.a,{isEncore:!1,which:t,id:a.id,setlist:"number"===typeof a.setlist?[a.setlist]:a.setlist.split(":")})])}return e}),[]),D=[1,2].reduce((function(e,t){if(w["encore".concat(t)]){var n=w["encore".concat(t)],a=Object(b.a)(Object(g.a)("id",Number(n)))(i);return e.concat([c.a.createElement(j.a,{isEncore:!0,which:t,id:a.id,setlist:"number"===typeof a.setlist?[a.setlist]:a.setlist.split(":")})])}return e}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"pagetitle"},c.a.createElement("span",{className:"pagetitle--number"},w.id),c.a.createElement("span",{className:"pagetitle--date"},N),c.a.createElement("span",{className:"pagetitle--venue"},S,", ",k)),c.a.createElement("section",null,A.length?A:c.a.createElement("p",null,"Uh oh, no sets found."),D.length?D:c.a.createElement("p",null,"(no encore)")))}var N=f()===i?"/almost-dead-net/":"/",y={anyPath:"".concat(N,":path"),home:"".concat(N),show:"".concat(N,"show/:id")};n(46);function U(e){var t=e.date,n=e.id;return c.a.createElement("li",null,c.a.createElement("a",{href:y.show.replace(":id",n)},t))}function S(){var e=Object(a.useState)(void 0),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){Object(O.a)(v.c,r)}),[]),console.log(n),void 0===n?c.a.createElement("p",null,"Loading..."):c.a.createElement("ol",{className:"showslist"},n.length?n.map((function(e){return c.a.createElement(U,{key:e.id,date:e.date,id:e.id})})):c.a.createElement("li",null,"Uh oh, no shows found..."))}function k(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"JRAD Setlists"),c.a.createElement(S,null),c.a.createElement("hr",null),c.a.createElement("p",null,"Coming eventually..."),c.a.createElement("ul",null,c.a.createElement("li",null,"links to Archive.org"),c.a.createElement("li",null,"videos"),c.a.createElement("li",null,"tease notations")))}n(47);o.a({dsn:"https://174349d7133f4877ba279f589bf54642@o412799.ingest.sentry.io/5293476"});var A=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"App ".concat(f())},c.a.createElement("a",{id:"logo",href:y.home},c.a.createElement("img",{src:"https://i.imgur.com/tvtgYVY.png",alt:"Good Ol' Almost Dead"})),c.a.createElement(u.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{path:y.home,exact:!0,component:k}),c.a.createElement(s.a,{path:y.show,component:w}),c.a.createElement(s.a,{path:y.anyPath,component:E})))),c.a.createElement("footer",{id:"site-footer"},"Contributions / corrections:",c.a.createElement("br",null),c.a.createElement("a",{href:"https://twitter.com/AlmostDeadNet",target:"_new",rel:"noopener noreferrer"},"@AlmostDeadNet on Twitter")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.47d88bb1.chunk.js.map